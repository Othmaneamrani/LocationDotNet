@model BLL.Command.VehiculeCommand
<partial name="_navbarAdmin" />


<h2 class="mt-5">Ajouter un nouveau véhicule</h2>

<form method="post" action="addVehicule" onsubmit="return validationAlert();" class="mt-5">

    <div class="mb-3">
        <label class="form-label">Lien de la photo du véhicule</label>
        <input type="text" class="form-control" asp-for="photoCommand" accept="image/*" required>
    </div>
    <div class="mb-3">
        <label class="form-label">Marque</label>
        <input type="text" class="form-control" asp-for="marqueCommand" required>
    </div>

    <div class="mb-3">
        <label class="form-label">Type de moteur</label>
        <select class="form-control" asp-for="typeMoteurCommand" required>
            <option value="auto">Manuel</option>
            <option value="manu">Automatique</option>
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">Prix /jour</label>
        <input id="prix" type="number" class="form-control" oninput="inputValidation()" asp-for="prixCommand" required>
        <div id="prixMismatch" style="color: red;"></div>
    </div>
    <div class="mb-3">
        <label class="form-label">Disponibilité</label>
        <select class="form-control" asp-for="estDispoCommand" required>
            <option value="Oui">Oui</option>
            <option value="Non">Non</option>
        </select>
    </div>


    <button type="submit" class="btn btn-primary">Ajouter</button>
    <a asp-controller="Vehicule" asp-action="Index" class="btn btn-primary m-md-1">Retour</a>

</form>


        <script>
            function validationAlert()
            {
                var prix = document.getElementById("prix").value;
                var prixMismatch = document.getElementById("prixMismatch").textContent;
                if (prixMismatch === "Le prix ne peut pas etre négatif.") {
                    alert("Le prix ne peut pas etre négatif.")
                    return false;
                }else{
                    return true;
                }
            }

            function inputValidation() {
                var prix = document.getElementById("prix").value;
                if(prix < 0){
                    document.getElementById("prixMismatch").textContent = "Le prix ne peut pas etre négatif.";
                } else {
                    document.getElementById("prixMismatch").textContent = "";
                }
                return true;
            }
        </script>